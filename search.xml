<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>使用NBC物种的差分多模态优化</title>
      <link href="/jin-hua-suan-fa/2023/07/04/fbk-de/"/>
      <url>/jin-hua-suan-fa/2023/07/04/fbk-de/</url>
      
        <content type="html"><![CDATA[<h2 id="论文简介">论文简介</h2><p>  论文题目为<em>Differential Evolution for Multimodal OptimizationWith Species by Nearest-Better Clustering</em>，发表于<strong>IEEETransactions on Cybernetics ( Volume: 51, Issue: 2, February2021)</strong></p><hr /><h2id="多模态优化问题-multimodal-optimization-problem-mmops">多模态优化问题(Multimodal optimization problem, MMOPS)</h2><p>  多模态优化问题包含多个全局和局部峰值，解决这些问题旨在寻找到全部最优解，在这篇论文中特指全局最优解。</p><hr /><h2 id="nearest-better-clustering">Nearest-Better Clustering</h2><p>  NBC在多模态优化中用于将种群划分为多个物种，同时追踪多个最优解。</p><pre class="pseudocode" data-line-number=true>\begin{algorithm}    \caption{NBC}    \begin{algorithmic}    \STATE 按照适应度从最好到最差对种群 $P$ 排序;    \STATE 计算每对个体的距离;    \STATE 创建空生成树 $T$;    \FOR{种群 $P$ 中每个个体 $x_i$}        \STATE 找到最近的更好邻居 $x_{i,nb}$;        \STATE 在 $x_i$ 和 $x_{i,nb}$ 之间创建一条边;        \STATE 将该边添加到 $T$;    \ENDFOR    \STATE 计算 $T$ 中所有边的平均距离 $\mu_{dist}$;    \FOR{$T$ 中所有边 $e$}        \IF{$e$ 的距离大于 $\phi\times\mu_{dist}$}            \STATE 切断$e$并记录种子$(seed)$        \ENDIF    \ENDFOR\end{algorithmic}\end{algorithm}</pre><p>  至此生成树<spanclass="math inline">\(T\)</span>被划分为一些子树，每棵子树表示一个物种(species)，子树的根节点视为物种的种子(seed)。对于一条边的两个节点，Nearest-Better邻居被称为leader，另一个被称为follower</p><p>  NBC与现有的niching方法相比NBC不需要先验知识（例如峰值数量），并且NBC只需要设置一个参数ϕ控制物种的数量。当ϕ较小时，获得的物种更多；而增加ϕ会导致物种减少。一般来说，ϕ被设定为2.0。</p><hr /><h2 id="nbc-minsize">NBC-Minsize</h2><p>  当ϕ设置为相对较小的值时，种群可以被划分为更多的物种。因此，不同的物种可以定位更多有前途的区域。在本文中，参数ϕ被设置为1.0。然而，较小的ϕ值会导致过多的分段。此外，只包含少数个体（例如一个或两个个体）的物种数量会大大增加，使物种无法与DE的变异算子进行演化。</p><p>  因此，在本文中，参数<spanclass="math inline">\(minsize\)</span>用于限制物种中个体的最小数量。需要注意的是，<spanclass="math inline">\(minsize\)</span>的值必须谨慎处理。如果它太小，最小尺寸限制机制就失去了作用；如果太大，很可能两个位于不同峰顶的物种仍然会连接在一起。</p><p>  为了获得更好的结果，<spanclass="math inline">\(minsize\)</span>应该在早期取一个较小的值，在中期和后期取相对较大的值。在早期，由于种群没有定位在峰顶，它应该被划分为更多的物种。在中期和后期，由于种群大致（或精确地）定位在多个峰顶，较大的<spanclass="math inline">\(minsize\)</span>允许定位局部最优解的物种被纳入定位全局最优解的附近物种。因此，物种更快地收敛到全局最优解。</p><p>  在这篇论文中<span class="math inline">\(minsize\)</span>被设置为：<span class="math display">\[minsize(g) = 5+g/2\]</span> <spanclass="math inline">\(g\)</span>表示当前代数，<spanclass="math inline">\(minsize\)</span>最开始设置为5以确保差分变异算子能够工作，为了避免<spanclass="math inline">\(minsize\)</span>过大，设置上界如下： <spanclass="math display">\[bound(g) = max(10,3*D)\]</span>其中D为问题的维度即解空间的维度。</p><pre class="pseudocode" data-line-number=true>\begin{algorithm}    \caption{NBC-minisize}    \begin{algorithmic}    \STATE 设置 $minisize$;    \STATE 构造完整的生成树 $T$;    \STATE 计算平均距离 $\mu_{dist}$;    \STATE 计算 $follow$ 向量;    \STATE 对 $T$ 中的所有边 $e$ 从长到短排序;    \FOR{each $e\in T$}        \IF{$e$ 的距离大于 $\phi\times\mu_{dist}$}            \STATE 设$e_f$ 为 $e$ 的 $follower$ 个体;            \STATE 设 $e_r$ 为包含 $e_f$ 的子树的根;            \IF{$follow(e_f)\ge minisize$ \AND $follow(e_r)-follow(e_f)\ge minisize$}                \STATE 切断边 $e$;                \STATE 设$e_l$ 是 $e$ 的 $leader$ 个体;                \FOR{从 $e_l$ 到 $e_r$ 的每条路径上的个体$x$}                    \STATE $follow(x)=follow(x)-follow(e_f)$;                \ENDFOR            \ENDIF        \ENDIF    \ENDFOR    \STATE 计算 $T$ 中所有边的平均距离 $\mu_{dist}$;\end{algorithmic}\end{algorithm}</pre><p>  <spanclass="math inline">\(follow\)</span>向量中的每个元素代表以相应个体为根的子树的节点个数，并且被初始化为1。接着所有边根据<spanclass="math inline">\(follower\)</span>适应度从优到劣排序。对于每条边，如果距离大于<spanclass="math inline">\(\phi\times\mu_{dist}\)</span>，且切断后的两个物种大小都不小于<spanclass="math inline">\(minisize\)</span>，就切断并记录种子。</p><h2 id="物种平衡策略">物种平衡策略</h2><p>  物种平衡策略可以防止少数物种占据绝大多数的个体来预防种群仅收敛到较大峰值宽度的少数最优值。<spanclass="math inline">\(nums\)</span>向量表示所有种群的的物种个数。开始初始化一个变量rest，用于记录从大物种中移除的个体数。接着计算<span class="math inline">\(nums\)</span> 向量的平均值 <spanclass="math inline">\(\mu_{avg}\)</span> ，计算阈值 <spanclass="math inline">\(\mu_\lambda\)</span> ，它是 <spanclass="math inline">\(\lambda\)</span> 和 <spanclass="math inline">\(\mu_{avg}\)</span> 的乘积，其中 <spanclass="math inline">\(\lambda\)</span>是一个权重参数，用于控制物种的平衡程度。创建一个空集合 <spanclass="math inline">\(s\)</span> ，用于记录大小小于 <spanclass="math inline">\(\mu_{avg}\)</span> 的物种的索引。</p><h2 id="fbk-de">FBK-DE</h2><pre class="pseudocode" data-line-number=true>\begin{algorithm}    \caption{FBK-DE}    \begin{algorithmic}        \STATE 设置种群大小 $NP$;        \STATE 随机初始化种群 $P(0)$;        \STATE 评估 $P(0)$;        \STATE $g=0$;        \WHILE {未达到停止条件}            \STATE 通过NBC-minisize算法获得物种;            \STATE 通过物种平衡策略获得物种大小;            \FOR {每个物种 $s_i$}                \STATE 个体进化;                \IF {$nums(i)>种群大小$}                \STATE 通过高斯分布在最优值附近产生新个体;            \ENDIF            \STATE $g=g+1$;            \ENDFOR        \ENDWHILE    \end{algorithmic}\end{algorithm}</pre><h2 id="代码实现">代码实现</h2><p><strong>To be continue...</strong></p>]]></content>
      
      
      <categories>
          
          <category> 进化算法 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 进化算法 </tag>
            
            <tag> 差分进化 </tag>
            
            <tag> 多模态优化 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>编译运行xv6（环境搭建）</title>
      <link href="/cao-zuo-xi-tong/6-s081/2023/06/19/6-s081-1/"/>
      <url>/cao-zuo-xi-tong/6-s081/2023/06/19/6-s081-1/</url>
      
        <content type="html"><![CDATA[<h2 id="环境搭建">环境搭建</h2><p><a href="https://pdos.csail.mit.edu/6.828/2020/tools.html">Tools Usedin 6.S081</a></br> 下面以WSL2 (ubuntu)为例 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span> build-essential gdb-multiarch qemu-system-misc gcc-riscv64-linux-gnu binutils-riscv64-linux-gnu <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> <span id="more"></span>如果程序在以下语句后挂起 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">qemu-system-riscv64 <span class="token parameter variable">-machine</span> virt <span class="token parameter variable">-bios</span> none <span class="token parameter variable">-kernel</span> kernel/kernel <span class="token parameter variable">-m</span> 128M <span class="token parameter variable">-smp</span> <span class="token number">3</span> <span class="token parameter variable">-nographic</span> <span class="token parameter variable">-drive</span> <span class="token assign-left variable">file</span><span class="token operator">=</span>fs.img,if<span class="token operator">=</span>none,format<span class="token operator">=</span>raw,id<span class="token operator">=</span>x0 <span class="token parameter variable">-device</span> virtio-blk-device,drive<span class="token operator">=</span>x0,bus<span class="token operator">=</span>virtio-mmio-bus.0<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 需要卸载 qemu-system-misc并且安装旧版本 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> remove qemu-system-misc<span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> qemu-system-misc<span class="token operator">=</span><span class="token number">1</span>:4.2-3ubuntu6<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre> *** 如果提示找不到版本，可以尝试编译安装(<ahref="https://wiki.qemu.org/Hosts/Linux#Building_QEMU_for_Linux">BuildingQEMU for Linux</a>)<br> 安装编译需要的工具 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> <span class="token function">git</span> libglib2.0-dev libfdt-dev libpixman-1-dev zlib1g-dev ninja-build<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 下载源码并解压<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">wget</span> https://download.qemu.org/qemu-5.1.0.tar.xz<span class="token function">tar</span> xf qemu-5.1.0.tar.xz<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre> 构建QEMU for riscv64-softmmu: <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">cd</span> qemu-5.1.0./configure --disable-kvm --disable-werror <span class="token parameter variable">--prefix</span><span class="token operator">=</span>/usr/local --target-list<span class="token operator">=</span><span class="token string">"riscv64-softmmu"</span><span class="token function">make</span><span class="token function">sudo</span> <span class="token function">make</span> <span class="token function">install</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre></p><h2 id="启动xv6">启动Xv6</h2><p>拉取xv6源码并且切换至util分支 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">git</span> clone git://g.csail.mit.edu/xv6-labs-2020<span class="token builtin class-name">cd</span> xv6-labs-2020<span class="token function">git</span> checkout util<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre> 编译并且运行xv6<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">make</span> qemu<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre> 当出现 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">xv6 kernel is bootinghart <span class="token number">2</span> startinghart <span class="token number">1</span> startinginit: starting <span class="token function">sh</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre> 说明xv6启动成功。<br>在命令行键入<code>ls</code>将会见到如下输出 <pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">$ <span class="token function">ls</span><span class="token builtin class-name">.</span>              <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1024</span><span class="token punctuation">..</span>             <span class="token number">1</span> <span class="token number">1</span> <span class="token number">1024</span>README         <span class="token number">2</span> <span class="token number">2</span> <span class="token number">2059</span>xargstest.sh   <span class="token number">2</span> <span class="token number">3</span> <span class="token number">93</span><span class="token function">cat</span>            <span class="token number">2</span> <span class="token number">4</span> <span class="token number">23664</span><span class="token builtin class-name">echo</span>           <span class="token number">2</span> <span class="token number">5</span> <span class="token number">22504</span>forktest       <span class="token number">2</span> <span class="token number">6</span> <span class="token number">13232</span><span class="token function">grep</span>           <span class="token number">2</span> <span class="token number">7</span> <span class="token number">26808</span>init           <span class="token number">2</span> <span class="token number">8</span> <span class="token number">23312</span><span class="token function">kill</span>           <span class="token number">2</span> <span class="token number">9</span> <span class="token number">22432</span><span class="token function">ln</span>             <span class="token number">2</span> <span class="token number">10</span> <span class="token number">22296</span><span class="token function">ls</span>             <span class="token number">2</span> <span class="token number">11</span> <span class="token number">25848</span><span class="token function">mkdir</span>          <span class="token number">2</span> <span class="token number">12</span> <span class="token number">22568</span><span class="token function">rm</span>             <span class="token number">2</span> <span class="token number">13</span> <span class="token number">22552</span><span class="token function">sh</span>             <span class="token number">2</span> <span class="token number">14</span> <span class="token number">40560</span>stressfs       <span class="token number">2</span> <span class="token number">15</span> <span class="token number">23528</span>usertests      <span class="token number">2</span> <span class="token number">16</span> <span class="token number">142264</span>grind          <span class="token number">2</span> <span class="token number">17</span> <span class="token number">36944</span><span class="token function">wc</span>             <span class="token number">2</span> <span class="token number">18</span> <span class="token number">24648</span>zombie         <span class="token number">2</span> <span class="token number">19</span> <span class="token number">21808</span>console        <span class="token number">3</span> <span class="token number">20</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>键入<code>Ctrl-a x</code>退出xv6</p>]]></content>
      
      
      <categories>
          
          <category> 操作系统 </category>
          
          <category> 6.S081 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 操作系统 </tag>
            
            <tag> 6.S081 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
